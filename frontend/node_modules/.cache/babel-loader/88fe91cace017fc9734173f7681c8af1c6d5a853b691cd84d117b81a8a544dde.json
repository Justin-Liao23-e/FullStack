{"ast":null,"code":"var _jsxFileName = \"/Users/justin-liao/CS Projects/FullStack/frontend/src/components/AdminPanel.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport request from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AdminPanel() {\n  _s();\n  // Store all users\n  const [users, setUsers] = useState([]);\n  // The user ID we might delete\n  const [targetUserId, setTargetUserId] = useState('');\n  // The post ID we might remove\n  const [targetPostId, setTargetPostId] = useState('');\n\n  // Fetch all users on mount\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n  const fetchUsers = async () => {\n    // GET /admin-panel/\n    const response = await request('/admin-panel/');\n    if (response.ok) {\n      const data = await response.json();\n      setUsers(data);\n    } else {\n      alert('Failed to fetch users or unauthorized');\n    }\n  };\n\n  // Delete a user by ID\n  const handleDeleteUser = async () => {\n    if (!window.confirm(`Delete user with ID ${targetUserId}?`)) return;\n    const response = await request(`/admin-panel/${targetUserId}/`, 'DELETE');\n    if (response.ok) {\n      alert('User deleted');\n      fetchUsers();\n    } else {\n      alert('Deletion failed');\n    }\n  };\n\n  // Remove a post by ID\n  const handleRemovePost = async () => {\n    if (!window.confirm(`Remove post with ID ${targetPostId}?`)) return;\n    const response = await request(`/admin-remove-post/${targetPostId}/`, 'DELETE');\n    if (response.ok) {\n      alert('Post removed');\n    } else {\n      alert('Post removal failed');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Admin Panel\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"All Users\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: users.map(u => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [u.id, \" - \", u.username, \" - \", u.email, \" (\", u.first_name, \" \", u.last_name, \")\"]\n      }, u.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '2rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Delete a User\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"User ID\",\n        value: targetUserId,\n        onChange: e => setTargetUserId(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleDeleteUser,\n        children: \"Delete User\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '2rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Remove a Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Post ID\",\n        value: targetPostId,\n        onChange: e => setTargetPostId(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleRemovePost,\n        children: \"Remove Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n_s(AdminPanel, \"4L2sv6haPoQrCok1bPGNdjUMfVw=\");\n_c = AdminPanel;\nexport default AdminPanel;\nvar _c;\n$RefreshReg$(_c, \"AdminPanel\");","map":{"version":3,"names":["React","useState","useEffect","request","jsxDEV","_jsxDEV","AdminPanel","_s","users","setUsers","targetUserId","setTargetUserId","targetPostId","setTargetPostId","fetchUsers","response","ok","data","json","alert","handleDeleteUser","window","confirm","handleRemovePost","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","u","id","username","email","first_name","last_name","style","marginTop","type","placeholder","value","onChange","e","target","onClick","_c","$RefreshReg$"],"sources":["/Users/justin-liao/CS Projects/FullStack/frontend/src/components/AdminPanel.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport request from '../services/api';\n\nfunction AdminPanel() {\n  // Store all users\n  const [users, setUsers] = useState([]);\n  // The user ID we might delete\n  const [targetUserId, setTargetUserId] = useState('');\n  // The post ID we might remove\n  const [targetPostId, setTargetPostId] = useState('');\n\n  // Fetch all users on mount\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n\n  const fetchUsers = async () => {\n    // GET /admin-panel/\n    const response = await request('/admin-panel/');\n    if (response.ok) {\n      const data = await response.json();\n      setUsers(data);\n    } else {\n      alert('Failed to fetch users or unauthorized');\n    }\n  };\n\n  // Delete a user by ID\n  const handleDeleteUser = async () => {\n    if (!window.confirm(`Delete user with ID ${targetUserId}?`)) return;\n    const response = await request(`/admin-panel/${targetUserId}/`, 'DELETE');\n    if (response.ok) {\n      alert('User deleted');\n      fetchUsers();\n    } else {\n      alert('Deletion failed');\n    }\n  };\n\n  // Remove a post by ID\n  const handleRemovePost = async () => {\n    if (!window.confirm(`Remove post with ID ${targetPostId}?`)) return;\n    const response = await request(`/admin-remove-post/${targetPostId}/`, 'DELETE');\n    if (response.ok) {\n      alert('Post removed');\n    } else {\n      alert('Post removal failed');\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <h2>Admin Panel</h2>\n      <h3>All Users</h3>\n      <ul>\n        {users.map(u => (\n          <li key={u.id}>\n            {u.id} - {u.username} - {u.email} ({u.first_name} {u.last_name})\n          </li>\n        ))}\n      </ul>\n\n      {/* Delete user section */}\n      <div style={{ marginTop: '2rem' }}>\n        <h3>Delete a User</h3>\n        <input\n          type=\"text\"\n          placeholder=\"User ID\"\n          value={targetUserId}\n          onChange={e => setTargetUserId(e.target.value)}\n        />\n        <button onClick={handleDeleteUser}>Delete User</button>\n      </div>\n\n      {/* Remove post section */}\n      <div style={{ marginTop: '2rem' }}>\n        <h3>Remove a Post</h3>\n        <input\n          type=\"text\"\n          placeholder=\"Post ID\"\n          value={targetPostId}\n          onChange={e => setTargetPostId(e.target.value)}\n        />\n        <button onClick={handleRemovePost}>Remove Post</button>\n      </div>\n    </div>\n  );\n}\n\nexport default AdminPanel;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}